'use strict';function cov_1iecz36lxw(){var path="D:\\SE2_Project\\controllers\\Search.js";var hash="49266f307edb9420d7737259701f5a895480f20a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\SE2_Project\\controllers\\Search.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:41}},"1":{start:{line:4,column:13},end:{line:4,column:48}},"2":{start:{line:6,column:0},end:{line:29,column:2}},"3":{start:{line:7,column:20},end:{line:7,column:50}},"4":{start:{line:8,column:2},end:{line:8,column:49}},"5":{start:{line:9,column:2},end:{line:13,column:3}},"6":{start:{line:11,column:4},end:{line:11,column:56}},"7":{start:{line:14,column:2},end:{line:27,column:7}},"8":{start:{line:18,column:6},end:{line:18,column:37}},"9":{start:{line:21,column:6},end:{line:21,column:37}},"10":{start:{line:24,column:6},end:{line:24,column:58}},"11":{start:{line:25,column:6},end:{line:25,column:57}},"12":{start:{line:28,column:4},end:{line:28,column:11}}},fnMap:{"0":{name:"searchGET",decl:{start:{line:6,column:36},end:{line:6,column:45}},loc:{start:{line:6,column:63},end:{line:29,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:10},end:{line:15,column:11}},loc:{start:{line:15,column:30},end:{line:19,column:5}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:11},end:{line:20,column:12}},loc:{start:{line:20,column:31},end:{line:22,column:5}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:11},end:{line:23,column:12}},loc:{start:{line:23,column:28},end:{line:27,column:5}},line:23}},branchMap:{"0":{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"49266f307edb9420d7737259701f5a895480f20a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1iecz36lxw=function(){return actualCoverage;};}return actualCoverage;}cov_1iecz36lxw();var utils=(cov_1iecz36lxw().s[0]++,require('../utils/writer.js'));var Search=(cov_1iecz36lxw().s[1]++,require('../service/SearchService'));cov_1iecz36lxw().s[2]++;module.exports.searchGET=function searchGET(req,res,next){cov_1iecz36lxw().f[0]++;const mockError=(cov_1iecz36lxw().s[3]++,req.query.mockError==='true');cov_1iecz36lxw().s[4]++;console.log('Mock Error Enabled: ',mockError);cov_1iecz36lxw().s[5]++;if(mockError){cov_1iecz36lxw().b[0][0]++;cov_1iecz36lxw().s[6]++;return res.status(500).json({error:'Mock error'});// utils.writeJson(res, {message: 'Mock error'}, 500);
}else{cov_1iecz36lxw().b[0][1]++;}cov_1iecz36lxw().s[7]++;Search.searchGET(req).then(function(response){cov_1iecz36lxw().f[1]++;cov_1iecz36lxw().s[8]++;// console.log('Controller: Sending Respose:', response);
// console.log(req);
utils.writeJson(res,response);}).catch(function(response){cov_1iecz36lxw().f[2]++;cov_1iecz36lxw().s[9]++;utils.writeJson(res,response);}).catch(function(error){cov_1iecz36lxw().f[3]++;cov_1iecz36lxw().s[10]++;console.error('Controller: Error occurred:',error);cov_1iecz36lxw().s[11]++;utils.writeJson(res,{error:"Server Error"},500);//res.status(500).json({error: 'Server Error'});
});cov_1iecz36lxw().s[12]++;next();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWllY3ozNmx4dyIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInVuZGVmaW5lZCIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJ1dGlscyIsInJlcXVpcmUiLCJTZWFyY2giLCJtb2R1bGUiLCJleHBvcnRzIiwic2VhcmNoR0VUIiwicmVxIiwicmVzIiwibmV4dCIsIm1vY2tFcnJvciIsInF1ZXJ5IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRoZW4iLCJyZXNwb25zZSIsIndyaXRlSnNvbiIsImNhdGNoIl0sInNvdXJjZXMiOlsiU2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3dyaXRlci5qcycpO1xyXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi4vc2VydmljZS9TZWFyY2hTZXJ2aWNlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5zZWFyY2hHRVQgPSBmdW5jdGlvbiBzZWFyY2hHRVQgKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgY29uc3QgbW9ja0Vycm9yID0gcmVxLnF1ZXJ5Lm1vY2tFcnJvciA9PT0gJ3RydWUnO1xyXG4gIGNvbnNvbGUubG9nKCdNb2NrIEVycm9yIEVuYWJsZWQ6ICcsIG1vY2tFcnJvcik7XHJcbiAgaWYobW9ja0Vycm9yKVxyXG4gIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3IgOiAnTW9jayBlcnJvcid9KTtcclxuICAgIC8vIHV0aWxzLndyaXRlSnNvbihyZXMsIHttZXNzYWdlOiAnTW9jayBlcnJvcid9LCA1MDApO1xyXG4gIH1cclxuICBTZWFyY2guc2VhcmNoR0VUKHJlcSlcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnQ29udHJvbGxlcjogU2VuZGluZyBSZXNwb3NlOicsIHJlc3BvbnNlKTtcclxuICAgICAgLy8gY29uc29sZS5sb2cocmVxKTtcclxuICAgICAgdXRpbHMud3JpdGVKc29uKHJlcywgcmVzcG9uc2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgdXRpbHMud3JpdGVKc29uKHJlcywgcmVzcG9uc2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ29udHJvbGxlcjogRXJyb3Igb2NjdXJyZWQ6JywgZXJyb3IpO1xyXG4gICAgICB1dGlscy53cml0ZUpzb24ocmVzLCB7ZXJyb3I6IFwiU2VydmVyIEVycm9yXCJ9LCA1MDApO1xyXG4gICAgICAvL3Jlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogJ1NlcnZlciBFcnJvcid9KTtcclxuICAgIH0pO1xyXG4gICAgbmV4dCgpO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQyxTQUFBQSxlQUFBLE1BQUFDLElBQUEsK0NBQUFDLElBQUEsZ0RBQUFDLE1BQUEsS0FBQUMsUUFBQSxzQkFBQUMsR0FBQSxvQkFBQUMsWUFBQSxFQUFBTCxJQUFBLDJDQUFBTSxZQUFBLE9BQUFDLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFVBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFVBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFVBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE9BQUFFLEtBQUEsT0FBQUMsSUFBQSxhQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxTQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxVQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxVQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxNQUFBTyxTQUFBLE9BQUFELEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQU8sSUFBQSxNQUFBQyxTQUFBLEdBQUFWLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFGLEtBQUEsRUFBQUMsSUFBQSxDQUFBVSxTQUFBLENBQUFULE1BQUEsQ0FBQVMsU0FBQSxFQUFBUixHQUFBLEVBQUFGLElBQUEsQ0FBQVUsU0FBQSxDQUFBVCxNQUFBLENBQUFTLFNBQUEsSUFBQVYsSUFBQSxLQUFBVyxDQUFBLG9GQUFBQyxDQUFBLDJCQUFBQyxDQUFBLGFBQUFDLGVBQUEsNENBQUFyQixJQUFBLGlEQUFBc0IsUUFBQSxDQUFBckIsTUFBQSxDQUFBRSxHQUFBLElBQUFGLE1BQUEs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